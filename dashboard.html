
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Metal Drops Dashboard</title>
<link rel="stylesheet" href="style.css">
<style>
    .background-grid {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        background: #000000;
        animation: none;
    }

    .background-grid::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
            linear-gradient(0deg, transparent 24%, rgba(0, 150, 255, 0.08) 25%, rgba(0, 150, 255, 0.08) 26%, transparent 27%, transparent 74%, rgba(0, 150, 255, 0.08) 75%, rgba(0, 150, 255, 0.08) 76%, transparent 77%, transparent),
            linear-gradient(90deg, transparent 24%, rgba(0, 150, 255, 0.08) 25%, rgba(0, 150, 255, 0.08) 26%, transparent 27%, transparent 74%, rgba(0, 150, 255, 0.08) 75%, rgba(0, 150, 255, 0.08) 76%, transparent 77%, transparent);
        background-size: 60px 60px;
        animation: gridMove 25s linear infinite;
    }

    .background-grid::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
            radial-gradient(circle at 20% 30%, rgba(0, 100, 200, 0.15) 0%, transparent 40%),
            radial-gradient(circle at 80% 70%, rgba(0, 150, 255, 0.1) 0%, transparent 40%);
        animation: glowShift 10s ease-in-out infinite;
    }

    @keyframes gridMove {
        0% { transform: translateY(0px); }
        100% { transform: translateY(60px); }
    }

    @keyframes glowShift {
        0%, 100% { opacity: 0.4; }
        50% { opacity: 0.7; }
    }

    .grid {
        position: relative;
        z-index: 10;
    }

    header {
        position: relative;
        z-index: 100;
    }
</style>
<body>

<div class="mouse-glow"></div>

<header class="topbar">
    <div class="nav-left">
        <div class="logo">Metal drops</div>
        <a href="index_home.html" class="nav-item">Home</a>
        <a href="dashboard.html" class="nav-item">Dashboard</a>
        <a href="index_code.html" class="nav-item">Code</a>
    </div>
    <div class="nav-right">
        <div class="discord-profile">
            <div class="avatar" ></div>
            <div class="username"></div>
        </div>
    </div>
</header>

<h1 class="dash-title">Available Accounts</h1>
<div id="timerBox">
    <span id="timerDisplay">Next account in: --:--:--</span>
    <span id="accountCount" class="account-count"> - Accounts: 1/1</span>
</div>

<div class="grid">

    <div class='card'>
        <div class='card-title'>Counter-Strike 2</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>War Thunder</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Unturned</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Brawlhalla</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Source SDK Base 2007</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Apex Legends</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>PUBG: BATTLEGROUNDS</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Destiny 2</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Payday 2</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>For Honor</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>For Honor</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'><span class="btn-text">Get Account</span></a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Grand Theft Auto V / GTA Online</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'>Get Account</a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Call of Duty</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'>Get Account</a>
    </div>
    
    <div class='card'>
        <div class='card-title'>The Cycle: Frontier</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'>Get Account</a>
    </div>
    
    <div class='card'>
        <div class='card-title'>Metin2</div>
        <div class='tag'>Working‚úÖ ‚Ä¢ Updatedüõ†Ô∏è</div>
        <a href='https://discord.gg/4RgAwBa7gA' class='get-btn'>Get Account</a>
    </div>
    
</div>

<!-- Account Modal -->
<div class="account-modal" id="accountModal">
    <div class="account-modal-content">
        <div class="account-modal-header">
            <div class="account-modal-title" id="accountGameName">Game Name</div>
            <button class="account-modal-close" onclick="closeAccountModal()">&times;</button>
        </div>
        <div id="accountMessageContainer"></div>
    </div>
</div>

<div class="background-grid"></div>

<script src="discord-accounts.js"></script>

<script>
    const mouseGlow = document.querySelector('.mouse-glow');

    document.addEventListener('mousemove', (e) => {
        mouseGlow.style.left = (e.clientX - 150) + 'px';
        mouseGlow.style.top = (e.clientY - 150) + 'px';
    });

    // Aggiorna il profilo Discord dalla localStorage (avatar + username)
    function updateDiscordProfileFromLocal() {
        const username = localStorage.getItem('discord_username');
        const avatar = localStorage.getItem('discord_avatar');
        const avatarEl = document.querySelector('.discord-profile .avatar');
        const usernameEl = document.querySelector('.discord-profile .username');
        if (avatarEl) {
            if (avatar) {
                avatarEl.style.backgroundImage = `url(${avatar})`;
                avatarEl.style.opacity = '1';
            } else {
                avatarEl.style.backgroundImage = '';
            }
        }
        if (usernameEl) {
            if (username) usernameEl.textContent = username;
        }
    }

    // Esegui all'avvio e quando la storage viene modificata (altre tab)
    document.addEventListener('DOMContentLoaded', updateDiscordProfileFromLocal);
    window.addEventListener('storage', (e) => {
        if (e.key === 'discord_username' || e.key === 'discord_avatar') updateDiscordProfileFromLocal();
    });
</script>

<canvas id="snow-canvas"></canvas>

<script src="black-hole.js"></script>

<!-- Snow script -->
<script>
    (function(){
        const canvas = document.getElementById('snow-canvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        let W, H;
        let flakes = [];
        function initFlakes(){
            flakes.length = 0;
            const FLAKE_COUNT = Math.max(80, Math.floor((W * H) / 50000)); // 2x higher density
            for(let i=0;i<FLAKE_COUNT;i++){
                flakes.push({
                    x: Math.random()*W,
                    y: Math.random()*H,
                    r: 4 + Math.random()*12,
                    vx: (Math.random()-0.5) * 0.3,
                    vy: 0.3 + Math.random()*1.0,
                    alpha: 0.3 + Math.random()*0.7,
                    rotation: Math.random() * Math.PI * 2,
                    rotationSpeed: (Math.random() - 0.5) * 0.08
                });
            }
        }
        function resize(){
            W = canvas.width = window.innerWidth;
            H = canvas.height = window.innerHeight;
            initFlakes();
        }
        window.addEventListener('resize', resize);
        resize();

        let mouse = {x:-9999,y:-9999, active:false};
        window.addEventListener('mousemove', (e)=>{ mouse.x = e.clientX; mouse.y = e.clientY; mouse.active = true; });
        window.addEventListener('mouseleave', ()=>{ mouse.active=false; mouse.x=-9999; mouse.y=-9999; });

        function step(){
            ctx.clearRect(0,0,W,H);
            for(let f of flakes){
                // attract to mouse
                if(mouse.active){
                    const dx = mouse.x - f.x;
                    const dy = mouse.y - f.y;
                    const dist = Math.sqrt(dx*dx+dy*dy);
                    const R = 120 + f.r*6;
                    if(dist < R && dist > 0){
                        const force = (1 - dist / R) * 0.9;
                        f.vx += (dx/dist) * force;
                        f.vy += (dy/dist) * force * 0.4;
                    }
                }

                f.vx *= 0.99;
                f.vy += 0.01;
                f.x += f.vx;
                f.y += f.vy;

                if(f.x > W + 10) f.x = -10;
                if(f.x < -10) f.x = W + 10;
                if(f.y > H + 20){
                    f.y = -10; f.x = Math.random()*W; f.vy = 0.3 + Math.random()*1.0; f.vx = (Math.random()-0.5)*0.4; f.rotation = Math.random() * Math.PI * 2;
                }

                f.rotation += f.rotationSpeed;

                ctx.save();
                ctx.translate(f.x, f.y);
                ctx.rotate(f.rotation);
                ctx.beginPath();
                ctx.fillStyle = 'rgba(255,255,255,'+ (f.alpha) +')';
                ctx.moveTo(0, -f.r*1.2);
                ctx.lineTo(f.r*0.5, 0);
                ctx.lineTo(0, f.r*1.2);
                ctx.lineTo(-f.r*0.5, 0);
                ctx.closePath();
                ctx.fill();
                ctx.restore();
            }
            requestAnimationFrame(step);
        }
        step();
    })();
</script>

<button class="power-by-exotic">Power by Exotic</button>

<div class="black-hole-container">
    <div class="black-hole"></div>
</div>
<script>
    // Recupera lo stato del codice riscattato
    const redeemed = localStorage.getItem("redeemedCode") === "2BOOSTER";
    const maxAccounts = redeemed ? 2 : 1;  // Se ha inserito il codice corretto, max 2 account
    let remainingAccounts = parseInt(localStorage.getItem("remainingAccounts")) || maxAccounts;

    // Aggiorna il contatore accanto al timer
    function updateAccountDisplay() {
        const accountCountEl = document.getElementById("accountCount");
        if(accountCountEl) {
            accountCountEl.textContent = ` - Accounts: ${remainingAccounts}/${maxAccounts}`;
        }
    }
    updateAccountDisplay();

    // Funzione da chiamare quando l'utente prende un account
    function takeAccount() {
        if(remainingAccounts > 0){
            remainingAccounts--;
            localStorage.setItem("remainingAccounts", remainingAccounts);
            updateAccountDisplay();
        } else {
            alert("Hai esaurito gli account disponibili per oggi!");
        }
    }

    // Esempio: reset giornaliero (puoi aggiungere timer reale)
    function resetDaily() {
        remainingAccounts = maxAccounts;
        localStorage.setItem("remainingAccounts", remainingAccounts);
        updateAccountDisplay();
    }
</script>
<script>
// Leggi il codice riscattato
const redeemed = localStorage.getItem("redeemedCode") === "2BOOSTER";
const maxAccounts = redeemed ? 2 : 1;
let remainingAccounts = parseInt(localStorage.getItem("remainingAccounts")) || maxAccounts;

// Aggiorna il contatore accanto al timer
function updateAccountDisplay() {
    const accountCountEl = document.getElementById("accountCount");
    if(accountCountEl) {
        accountCountEl.textContent = ` - Accounts: ${remainingAccounts}/${maxAccounts}`;
    }
}
updateAccountDisplay();

// Funzione da chiamare quando si prende un account
function takeAccount() {
    if(remainingAccounts > 0){
        remainingAccounts--;
        localStorage.setItem("remainingAccounts", remainingAccounts);
        updateAccountDisplay();
    } else {
        alert("You've run out of available accounts for today!");
    }
}

// Esempio: reset giornaliero (puoi aggiungere timer reale)
function resetDaily() {
    remainingAccounts = maxAccounts;
    localStorage.setItem("remainingAccounts", remainingAccounts);
    updateAccountDisplay();
}
</script>

</body>
</html>
